{% extends 'layout.html.twig' %}
{% block title %} {{ parent() }} -articles {%
endblock %} 

{% block content %} 
{#por chaque article de mon tableau des articles je crée une card avec les infos de l'article en question#}
<div class="row mt-5 justify-content-center text-center">
<h1> Liste des articles </h1>
</div>
<div class="row d-flex justify-content-center text-center">
{%for article in articles %}
  <div class="card m-1" style="width: 18rem">
    <div class="card-body">
    <div> 
      <a href="{{path("article_update", {id: article.id})}}"><i class="fa fa-edit mx-1 text-success"></i></a>
      <a href="{{path("article_delete", {id: article.id})}}"><i class="fa-solid fa-trash-can text-danger" onclick="return confirm('Êtes vous sur de vouloir supprimer l\'article?')"></i></a>
    </div>
      <h5 class="card-title">{{ article.titre }}</h5>
      <h6 class="card-subtitle mb-2 text-muted">crée le:{{ article.dateDeCreation | date("d/m/Y \à H\\hi") }}
</h6>
{% if article.dateDeModification is not null %}
      <h6 class="card-subtitle mb-2 text-muted">modifié le:{{ article.dateDeModification | date("d/m/Y \à H\\hi") }}
</h6>
{% endif %}
      <h6>auteur:</h6>
        <p class="card-text">{{article.contenu | slice(0,150)}}...</p>
      <a href="{{ path("app_article", {id: article.id} ) }}" class="btn btn-primary card-link">lire l'article</a>
    </div>
  </div>
{% endfor %}
</div>              
 {% endblock content %}
